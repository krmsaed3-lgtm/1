<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Bills</title>

  <!-- ===== CSS الأصلي (منظف فقط) ===== -->
  <style>
    body {
      margin: 0;
      background: #f5f6fa;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial;
    }

    /* ===== مثال على ستايل محفوظ كما هو ===== */
    .app {
      max-width: 480px;
      margin: auto;
      background: #fff;
      min-height: 100vh;
    }

    .header {
      background: #1e1e2f;
      color: #fff;
      padding: 16px;
      text-align: center;
      font-weight: bold;
    }

    .bill-item {
      padding: 14px;
      border-bottom: 1px solid #eee;
      cursor: pointer;
    }

    .bill-item:hover {
      background: #f1f1f1;
    }
  </style>
</head>

<body>

<div class="app">
  <div class="header">Bills</div>

  <!-- ===== نفس عناصر الصفحة ===== -->
  <div class="bill-item" data-bill="electric">
    Electricity Bill
  </div>

  <div class="bill-item" data-bill="water">
    Water Bill
  </div>

  <div class="bill-item" data-bill="internet">
    Internet Bill
  </div>
</div>

<script>
/* ===============================
   Tracking System (واضح ونظيف)
   =============================== */

const activityLog = [];

function track(event, data = {}) {
  const entry = {
    event,
    data,
    time: new Date().toISOString()
  };
  activityLog.push(entry);
  console.log("TRACK:", entry);

  // جاهز للربط لاحقًا
  // fetch("/track", { method:"POST", body: JSON.stringify(entry) })
}

// تحميل الصفحة
track("page_load");

// نقر على الفواتير
document.querySelectorAll(".bill-item").forEach(item => {
  item.addEventListener("click", () => {
    track("bill_click", {
      bill: item.dataset.bill,
      text: item.innerText.trim()
    });
  });
});

// تمرير
window.addEventListener("scroll", () => {
  track("scroll", { y: window.scrollY });
});

// وقت البقاء
const start = Date.now();
window.addEventListener("beforeunload", () => {
  track("time_on_page", {
    seconds: Math.round((Date.now() - start) / 1000)
  });
});
</script>

</body>
</html>
