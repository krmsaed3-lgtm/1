<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Security Center</title>
  <style>
    :root{--bg:#05070b;--stroke:rgba(255,255,255,.06);--card:rgba(255,255,255,.03);--muted:rgba(255,255,255,.55);--text:#eaf0ff;--shadow:0 16px 40px rgba(0,0,0,.55)}
    *{box-sizing:border-box}
    body{margin:0;background:radial-gradient(70% 50% at 50% 20%,rgba(47,183,255,.08),transparent 60%),radial-gradient(60% 50% at 20% 80%,rgba(34,224,189,.10),transparent 60%),var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:16px}
    .phone{width:min(420px,100%);border-radius:26px;padding:14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);box-shadow:var(--shadow)}
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:6px 6px 12px}
    .iconbtn{width:40px;height:40px;border-radius:14px;background:rgba(255,255,255,.04);border:1px solid var(--stroke);display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none}
    .iconbtn:active{transform:scale(.98)}
    .title{font-weight:700;opacity:.95}
    .section{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.015));border:1px solid var(--stroke);border-radius:18px;padding:14px;margin-bottom:12px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .label{font-size:12px;color:var(--muted)}
    .value{font-size:13px}
    .badge{font-size:11px;padding:4px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.12)}
    .badge.ok{background:rgba(34,224,189,.10);border-color:rgba(34,224,189,.30)}
    .badge.warn{background:rgba(255,190,90,.10);border-color:rgba(255,190,90,.30)}
    .inp{width:100%;margin-top:10px;border-radius:14px;background:rgba(0,0,0,.25);border:1px solid var(--stroke);padding:12px;color:var(--text);outline:none}
    .btnRow{display:flex;gap:10px;margin-top:10px}
    .btn{flex:1;height:44px;border:none;border-radius:16px;font-weight:800;color:#031310;background:linear-gradient(90deg,rgba(47,183,255,.55),rgba(34,224,189,.95));cursor:pointer}
    .btn.secondary{background:rgba(255,255,255,.06);color:var(--text);border:1px solid rgba(255,255,255,.10);font-weight:700}
    .btn:disabled{opacity:.45;cursor:not-allowed}
    .hint{margin-top:8px;font-size:12px;color:rgba(255,255,255,.45);line-height:1.35}
    .demo{display:none;margin-top:8px;font-size:12px;color:rgba(255,255,255,.55)}
    .toast{position:fixed;left:50%;bottom:26px;transform:translateX(-50%);background:rgba(10,16,24,.94);border:1px solid rgba(255,255,255,.10);border-radius:16px;padding:10px 12px;font-size:13px;color:var(--text);box-shadow:0 16px 50px rgba(0,0,0,.6);opacity:0;pointer-events:none;transition:opacity .18s ease;max-width:min(520px,90vw);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .toast.show{opacity:1}
  </style>
</head>
<body>
  <div class="phone">
    <div class="topbar">
      <div class="iconbtn" onclick="history.back()" title="Back">‹</div>
      <div class="title">Security Center</div>
      <div class="iconbtn" id="refreshBtn" title="Refresh">⟳</div>
    </div>

    <div class="section">
      <div class="row"><div class="label">Phone</div><div class="value" id="phoneVal">-</div></div>
      <div class="row" style="margin-top:10px;">
        <div class="label">Email</div>
        <div class="row" style="gap:10px;">
          <span class="value" id="emailVal">-</span>
          <span class="badge warn" id="emailBadge">Not verified</span>
        </div>
      </div>

      <input id="emailInput" class="inp" placeholder="Enter email" />
      <div class="btnRow">
        <button id="sendBtn" class="btn">Send code</button>
        <button id="verifyBtn" class="btn secondary">Verify</button>
      </div>
      <input id="codeInput" class="inp" placeholder="Enter verification code" />
      <div class="demo" id="demoCode"></div>
      <div class="hint">Email verification uses a code stored in email_verifications. Connect your mail provider later if needed.</div>
    </div>

    <div class="section">
      <div class="label">Login password</div>
      <input id="oldLogin" class="inp" type="password" placeholder="Old password" />
      <input id="newLogin" class="inp" type="password" placeholder="New password" />
      <input id="newLogin2" class="inp" type="password" placeholder="Confirm new password" />
      <div class="btnRow">
        <button id="changeLoginBtn" class="btn">Update</button>
      </div>
      <div class="hint">If the old password was never set, leave it empty and set a new one.</div>
    </div>

    <div class="section">
      <div class="label">Fund password</div>
      <input id="oldFund" class="inp" type="password" placeholder="Old fund password" />
      <input id="newFund" class="inp" type="password" placeholder="New fund password" />
      <input id="newFund2" class="inp" type="password" placeholder="Confirm new fund password" />
      <div class="btnRow">
        <button id="changeFundBtn" class="btn">Update</button>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script src="sb-config.js"></script>
  <script src="auth.js"></script>
  <script src="sb-user.js"></script>
  <script src="common-nav.js"></script>
  <script src="security-center.js"></script>
</body>
</html>