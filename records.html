<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Records</title>

  <style>
    :root{
      --bg0:#070a0d;
      --bg1:#0b0f14;
      --panel: rgba(255,255,255,.04);
      --panel2: rgba(255,255,255,.03);
      --border: rgba(255,255,255,.07);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.65);
      --muted2: rgba(255,255,255,.45);
      --accent1:#2de5c5;
      --accent2:#25caa6;
      --shadow: 0 18px 40px rgba(0,0,0,.38);
      --r14: 14px;
      --r18: 18px;
      --r16: 16px;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1100px 600px at 50% -220px, #1d2b3a 0%, var(--bg1) 52%, var(--bg0) 100%);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Page */
    .rec-page{
      min-height:100vh;
      padding: 14px 14px 24px;
    }

    /* Top bar */
    .rec-topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 6px 0 12px;
    }
    .rec-title{
      margin:0;
      font-size:16px;
      font-weight:800;
      letter-spacing:.2px;
    }

    .icon-btn{
      width:38px;
      height:38px;
      display:grid;
      place-items:center;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.04);
      color: var(--text);
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .icon-btn:active{ transform: scale(.98); }

    .icon{
      width:18px;
      height:18px;
      fill:none;
      stroke: currentColor;
      stroke-width:2.2;
      stroke-linecap:round;
      stroke-linejoin:round;
      opacity:.95;
    }

    /* Filter panel (design only; does not change your data logic) */
    .rec-panel{
      border-radius: var(--r18);
      padding: 14px;
      background: var(--panel);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      margin-bottom: 14px;
    }

    .rec-range{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      gap:10px;
      align-items:end;
    }

    .rec-field span{
      display:block;
      font-size:12px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    .rec-field input{
      width:100%;
      height:44px;
      padding: 0 12px;
      border-radius: var(--r14);
      border: 1px solid var(--border);
      background: rgba(10,14,20,.62);
      color: var(--text);
      outline:none;
    }

    .rec-to{
      font-size:12px;
      color: var(--muted2);
      padding: 0 2px 14px;
    }

    .rec-actions{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top: 12px;
    }

    .btn{
      height:44px;
      border-radius: var(--r14);
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-weight:800;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: scale(.99); }

    .btn.primary{
      border: none;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      color:#06211b;
    }

    .rec-note{
      margin: 12px 0 0;
      font-size: 12px;
      line-height: 1.35;
      color: var(--muted);
    }

    /* Records list: keep your existing IDs/classes so records.js keeps working */
    #records-list{
      display:flex;
      flex-direction:column;
      gap: 10px;
    }

    .record{
      background: var(--panel2);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
    }

    .row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
    }

    .row.small{
      font-size:12px;
      color: var(--muted);
      margin-top: 6px;
    }

    .type{
      text-transform: lowercase;
      font-weight: 900;
      letter-spacing:.2px;
    }
    .type.deposit{ color:#43e08d; }
    .type.profit{ color:#48c7ff; }
    .type.withdraw{ color:#ff6b6b; }

    .amount{
      font-weight: 900;
      text-align:right;
    }

    .empty{
      padding: 36px 10px;
      text-align:center;
      color: var(--muted);
      border: 1px dashed rgba(255,255,255,.14);
      border-radius: 16px;
      background: rgba(255,255,255,.02);
    }

    /* Better iOS safe-area */
    @supports(padding: max(0px)){
      .rec-page{
        padding-left: max(14px, env(safe-area-inset-left));
        padding-right: max(14px, env(safe-area-inset-right));
        padding-bottom: max(24px, env(safe-area-inset-bottom));
      }
    }
  </style>

<style id="black-bg-override">
  body {
    background: #000000 !important;
  }
</style>

</head>

<body>
  <main class="rec-page">
    <header class="rec-topbar">
      <button class="icon-btn" id="btnBack" aria-label="Back">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M15 18l-6-6 6-6"/></svg>
      </button>

      <h1 class="rec-title">Records</h1>

      <button class="icon-btn" id="btnRefresh" aria-label="Refresh">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 12a9 9 0 0 1-15.36 6.36"/><path d="M3 12a9 9 0 0 1 15.36-6.36"/><path d="M3 12v-3"/><path d="M21 12v3"/></svg>
      </button>
    </header>

    <!-- Design-only filter panel -->
    <section class="rec-panel" aria-label="Filters">
      <div class="rec-range">
        <label class="rec-field">
          <span>From</span>
          <input type="date" id="dateFrom" />
        </label>

        <div class="rec-to">to</div>

        <label class="rec-field">
          <span>To</span>
          <input type="date" id="dateTo" />
        </label>
      </div>

      <div class="rec-actions">
        <button class="btn" type="button" id="btnReset">Reset</button>
        <button class="btn primary" type="button" id="btnConfirm">Confirm</button>
      </div>

      <p class="rec-note">
        Note: If no records appear, select a date range and tap Confirm.
      </p>
    </section>

    <section id="records-list" aria-label="Records"></section>
  </main>

  <script>
    // UI helpers only (does not touch Supabase/server logic)
    (function () {
      const back = document.getElementById('btnBack');
      if (back) back.addEventListener('click', () => history.back());

      const refresh = document.getElementById('btnRefresh');
      if (refresh) refresh.addEventListener('click', () => location.reload());

      // If your existing records.js listens to other buttons, keep these IDs.
      // These are design-only buttons; your existing logic can optionally hook into them.
      const reset = document.getElementById('btnReset');
      if (reset) reset.addEventListener('click', () => {
        const f = document.getElementById('dateFrom');
        const t = document.getElementById('dateTo');
        if (f) f.value = '';
        if (t) t.value = '';
      });
    })();
  </script>

  <script src="sb-config.js"></script>
  <script src="records.js"></script>

<script id="label-fix">
(function(){
  function fix(){
    document.querySelectorAll('*').forEach(function(el){
      if(el.childNodes.length === 1 && el.textContent.trim() === 'wallet_balances'){
        el.textContent = 'Wallet Balance';
      }
    });
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', fix);
  } else {
    fix();
  }
})();
</script>

</body>
</html>
